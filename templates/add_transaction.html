{% extends "base.html" %}

{% block content %}
<div style="max-width: 500px; margin: 0 auto;">
    <div class="page-header">
        <h1 class="page-title">Add {{ type|title }}</h1>
        <a href="{{ url_for('dashboard') }}" class="btn" style="background-color: #e2e8f0;">
            <i class="fa-solid fa-xmark"></i> Cancel
        </a>
    </div>

    <div class="card animate-fade-in">
        <form method="POST">
            <input type="hidden" name="type" value="{{ type }}">

            <div class="form-group">
                <input type="number" id="amount" name="amount" class="form-control" step="0.01" required placeholder=" "
                    autofocus>
                <label for="amount" class="form-label">Amount (â‚¹)</label>
            </div>

            <div class="form-group">
                <select id="category" name="category" class="form-control" required style="appearance: none;">
                    {% if type == 'income' %}
                    <option value="Salary">Salary</option>
                    <option value="Freelance">Freelance</option>
                    <option value="Investment">Investment</option>
                    <option value="Gift">Gift</option>
                    <option value="Other">Other</option>
                    {% else %}
                    <option value="Food">Food</option>
                    <option value="Transport">Transport</option>
                    <option value="Utilities">Utilities</option>
                    <option value="Entertainment">Entertainment</option>
                    <option value="Shopping">Shopping</option>
                    <option value="Health">Health</option>
                    <option value="Other">Other</option>
                    {% endif %}
                </select>
                <label for="category" class="form-label">Category</label>
                <i class="fa-solid fa-chevron-down"
                    style="position: absolute; right: 1rem; top: 1rem; pointer-events: none; color: var(--text-muted);"></i>
            </div>

            <div class="form-group">
                <input type="date" id="date" name="date" class="form-control" required placeholder=" ">
                <label for="date" class="form-label">Date</label>
            </div>

            <div class="form-group">
                <textarea id="note" name="note" class="form-control" rows="3" placeholder=" "></textarea>
                <label for="note" class="form-label">Note (Optional)</label>
            </div>

            <button type="submit" class="btn btn-primary btn-block">
                <i class="fa-solid fa-check"></i> Save Transaction
            </button>
        </form>
    </div>
</div>

<script>
    // Set default date to today
    document.getElementById('date').valueAsDate = new Date();
</script>
{% endblock %}